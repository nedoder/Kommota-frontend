import React from "react";
import './Product.css';
import axios from 'axios';
import More from "./MoreFromCategory"

class Product extends React.Component {
    
    state = {
        name: "",
        description: "",
        price: "",
        image: "",
        category: "",
        seen: ""
    }
    componentDidMount() {
        
    axios({
        method: 'get',
        url: 'https://kommota.herokuapp.com/products'
      }).then((response) => {
        let findProduct = response.data.filter(
          (product) => product._id === this.props.match.params.id
        )
        let showProduct = findProduct[0]
        let  image = showProduct.image.slice(0,-18);
        image =  image.replace("file/d/", "thumbnail?id=");
        response.data.image = image;
     
        this.setState({
            name: showProduct.name,
            description: showProduct.description,
            price: showProduct.price,
            image: response.data.image,
            category: showProduct.category,
            seen: showProduct.seen
          })
        })
    }
    render() {
    return (
        <section>
        <section className="product container py-50">
            <div className="product__img-container shadow-dark">
                <span className="product__badge-giveaway badge-giveaway">
                    <svg className="icon-24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M18 7H17.65C17.8782 6.53276 17.9979 6.01999 18 5.5C18.003 4.80333 17.7975 4.12169 17.4098 3.54283C17.0221 2.96397 16.4701 2.51438 15.8247 2.25194C15.1794 1.98949 14.4703 1.9262 13.7886 2.07021C13.107 2.21422 12.4841 2.55894 12 3.06C11.5159 2.55894 10.893 2.21422 10.2114 2.07021C9.52975 1.9262 8.82061 1.98949 8.17525 2.25194C7.5299 2.51438 6.97786 2.96397 6.59019 3.54283C6.20252 4.12169 5.99697 4.80333 6 5.5C6.00213 6.01999 6.12178 6.53276 6.35 7H6C5.20435 7 4.44129 7.31607 3.87868 7.87868C3.31607 8.44129 3 9.20435 3 10V12C3 12.2652 3.10536 12.5196 3.29289 12.7071C3.48043 12.8946 3.73478 13 4 13H5V19C5 19.7956 5.31607 20.5587 5.87868 21.1213C6.44129 21.6839 7.20435 22 8 22H16C16.7956 22 17.5587 21.6839 18.1213 21.1213C18.6839 20.5587 19 19.7956 19 19V13H20C20.2652 13 20.5196 12.8946 20.7071 12.7071C20.8946 12.5196 21 12.2652 21 12V10C21 9.20435 20.6839 8.44129 20.1213 7.87868C19.5587 7.31607 18.7956 7 18 7ZM11 20H8C7.73478 20 7.48043 19.8946 7.29289 19.7071C7.10536 19.5196 7 19.2652 7 19V13H11V20ZM11 11H5V10C5 9.73478 5.10536 9.48043 5.29289 9.29289C5.48043 9.10536 5.73478 9 6 9H11V11ZM11 7H9.5C9.20333 7 8.91332 6.91203 8.66665 6.7472C8.41997 6.58238 8.22771 6.34811 8.11418 6.07402C8.00065 5.79994 7.97094 5.49834 8.02882 5.20736C8.0867 4.91639 8.22956 4.64912 8.43934 4.43934C8.64912 4.22956 8.91639 4.0867 9.20736 4.02882C9.49834 3.97094 9.79994 4.00065 10.074 4.11418C10.3481 4.22771 10.5824 4.41997 10.7472 4.66664C10.912 4.91332 11 5.20333 11 5.5V7ZM13 5.5C13 5.20333 13.088 4.91332 13.2528 4.66664C13.4176 4.41997 13.6519 4.22771 13.926 4.11418C14.2001 4.00065 14.5017 3.97094 14.7926 4.02882C15.0836 4.0867 15.3509 4.22956 15.5607 4.43934C15.7704 4.64912 15.9133 4.91639 15.9712 5.20736C16.0291 5.49834 15.9994 5.79994 15.8858 6.07402C15.7723 6.34811 15.58 6.58238 15.3334 6.7472C15.0867 6.91203 14.7967 7 14.5 7H13V5.5ZM17 19C17 19.2652 16.8946 19.5196 16.7071 19.7071C16.5196 19.8946 16.2652 20 16 20H13V13H17V19ZM19 11H13V9H18C18.2652 9 18.5196 9.10536 18.7071 9.29289C18.8946 9.48043 19 9.73478 19 10V11Z" fill="#CC3E00"/>
                    </svg>
                </span>
                <img src={this.state.image} className="product__img" alt="Product image"/>
            </div>
            <div className="product__details-btns-wrapper">
                <div className="product__details">
                    <a href="#" className="product__category">
                        {this.state.category}
                    </a>
                    <h1 className="product__title heading-1 color-neutral-900">
                        {this.state.name}
                    </h1>
                    <div className="product__price">
                        {this.state.price}
                        <img src="/imgs/icons/bitcoin-circle.svg" alt="bitcoins"/>
                    </div>

                    <p className="product__description">
                       {this.state.description}
                    </p>
                </div>
                <div className="product__btns">
                    <button className="btn btn-big-icon-text-under" disabled>
                        <svg className="btn-big-icon-text-under__icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M21.92 11.6C19.9 6.91 16.1 4 12 4C7.90001 4 4.10001 6.91 2.08001 11.6C2.02494 11.7262 1.99652 11.8623 1.99652 12C1.99652 12.1377 2.02494 12.2738 2.08001 12.4C4.10001 17.09 7.90001 20 12 20C16.1 20 19.9 17.09 21.92 12.4C21.9751 12.2738 22.0035 12.1377 22.0035 12C22.0035 11.8623 21.9751 11.7262 21.92 11.6ZM12 18C8.82001 18 5.83001 15.71 4.10001 12C5.83001 8.29 8.82001 6 12 6C15.18 6 18.17 8.29 19.9 12C18.17 15.71 15.18 18 12 18ZM12 8C11.2089 8 10.4355 8.2346 9.77773 8.67412C9.11993 9.11365 8.60724 9.73836 8.30449 10.4693C8.00174 11.2002 7.92252 12.0044 8.07686 12.7804C8.2312 13.5563 8.61217 14.269 9.17158 14.8284C9.73099 15.3878 10.4437 15.7688 11.2196 15.9231C11.9956 16.0775 12.7998 15.9983 13.5307 15.6955C14.2616 15.3928 14.8864 14.8801 15.3259 14.2223C15.7654 13.5645 16 12.7911 16 12C16 10.9391 15.5786 9.92172 14.8284 9.17157C14.0783 8.42143 13.0609 8 12 8ZM12 14C11.6044 14 11.2178 13.8827 10.8889 13.6629C10.56 13.4432 10.3036 13.1308 10.1522 12.7654C10.0009 12.3999 9.96126 11.9978 10.0384 11.6098C10.1156 11.2219 10.3061 10.8655 10.5858 10.5858C10.8655 10.3061 11.2219 10.1156 11.6098 10.0384C11.9978 9.96126 12.3999 10.0009 12.7654 10.1522C13.1308 10.3036 13.4432 10.56 13.6629 10.8889C13.8827 11.2178 14 11.6044 14 12C14 12.5304 13.7893 13.0391 13.4142 13.4142C13.0391 13.7893 12.5304 14 12 14Z" fill="#444A51"/>
                        </svg>
                        {this.state.seen}
                    </button>
                    {/*product__wish-btn-active*/}
                    <button className="btn btn-big-icon-text-under btn-big-icon-text-under--outline">
                        <svg className="btn-big-icon-text-under__icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M20.1745 5.01023C19.1145 3.94744 17.7093 3.29877 16.2129 3.1814C14.7164 3.06403 13.2273 3.48569 12.0145 4.37023C10.7422 3.42387 9.15853 2.99474 7.58246 3.16927C6.00638 3.34379 4.55498 4.10901 3.52051 5.31081C2.48604 6.51262 1.94536 8.06175 2.00734 9.64624C2.06931 11.2307 2.72935 12.7329 3.85453 13.8502L10.0645 20.0702C10.5846 20.582 11.2849 20.8688 12.0145 20.8688C12.7441 20.8688 13.4445 20.582 13.9645 20.0702L20.1745 13.8502C21.3421 12.6755 21.9975 11.0865 21.9975 9.43023C21.9975 7.77396 21.3421 6.18496 20.1745 5.01023Z" fill="#444A51"/>
                        </svg>
                        lista Å¾elja
                    </button>
                    <button className="btn btn-big-icon-text-under btn-big-icon-text-under--solid">
                        <svg className="btn-big-icon-text-under__icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M21 16H7C6.73478 16 6.48043 15.8946 6.29289 15.7071C6.10536 15.5196 6 15.2652 6 15C6 14.7348 6.10536 14.4804 6.29289 14.2929C6.48043 14.1054 6.73478 14 7 14H17.44C18.1087 14 18.7582 13.7767 19.2854 13.3654C19.8126 12.9542 20.1873 12.3786 20.35 11.73L22 5.24C22.0375 5.09241 22.0407 4.93821 22.0095 4.78917C21.9783 4.64013 21.9135 4.50018 21.82 4.38C21.7227 4.25673 21.5978 4.1581 21.4554 4.09208C21.3129 4.02606 21.1569 3.99452 21 4H6.76C6.55369 3.41645 6.17193 2.911 5.66707 2.55294C5.1622 2.19488 4.55894 2.00174 3.94 2H3C2.73478 2 2.48043 2.10536 2.29289 2.29289C2.10536 2.48043 2 2.73478 2 3C2 3.26522 2.10536 3.51957 2.29289 3.70711C2.48043 3.89464 2.73478 4 3 4H3.94C4.16843 3.99334 4.39226 4.06513 4.57421 4.20341C4.75615 4.34169 4.88525 4.53812 4.94 4.76L5 5.24L6.73 12C5.93435 12.0358 5.18551 12.3862 4.64822 12.9741C4.11093 13.5621 3.8292 14.3394 3.865 15.135C3.9008 15.9306 4.25121 16.6795 4.83914 17.2168C5.42707 17.7541 6.20435 18.0358 7 18H7.18C7.01554 18.4531 6.96269 18.9392 7.02593 19.4171C7.08917 19.895 7.26665 20.3506 7.54332 20.7454C7.81999 21.1401 8.18772 21.4624 8.61535 21.6849C9.04299 21.9074 9.51795 22.0235 10 22.0235C10.4821 22.0235 10.957 21.9074 11.3846 21.6849C11.8123 21.4624 12.18 21.1401 12.4567 20.7454C12.7334 20.3506 12.9108 19.895 12.9741 19.4171C13.0373 18.9392 12.9845 18.4531 12.82 18H15.18C15.0155 18.4531 14.9627 18.9392 15.0259 19.4171C15.0892 19.895 15.2666 20.3506 15.5433 20.7454C15.82 21.1401 16.1877 21.4624 16.6154 21.6849C17.043 21.9074 17.5179 22.0235 18 22.0235C18.4821 22.0235 18.957 21.9074 19.3846 21.6849C19.8123 21.4624 20.18 21.1401 20.4567 20.7454C20.7334 20.3506 20.9108 19.895 20.9741 19.4171C21.0373 18.9392 20.9845 18.4531 20.82 18H21C21.2652 18 21.5196 17.8946 21.7071 17.7071C21.8946 17.5196 22 17.2652 22 17C22 16.7348 21.8946 16.4804 21.7071 16.2929C21.5196 16.1054 21.2652 16 21 16ZM19.72 6L18.41 11.24C18.3552 11.4619 18.2262 11.6583 18.0442 11.7966C17.8623 11.9349 17.6384 12.0067 17.41 12H8.78L7.28 6H19.72ZM10 20C9.80222 20 9.60888 19.9414 9.44443 19.8315C9.27998 19.7216 9.15181 19.5654 9.07612 19.3827C9.00043 19.2 8.98063 18.9989 9.01921 18.8049C9.0578 18.6109 9.15304 18.4327 9.29289 18.2929C9.43275 18.153 9.61093 18.0578 9.80491 18.0192C9.99889 17.9806 10.2 18.0004 10.3827 18.0761C10.5654 18.1518 10.7216 18.28 10.8315 18.4444C10.9414 18.6089 11 18.8022 11 19C11 19.2652 10.8946 19.5196 10.7071 19.7071C10.5196 19.8946 10.2652 20 10 20ZM18 20C17.8022 20 17.6089 19.9414 17.4444 19.8315C17.28 19.7216 17.1518 19.5654 17.0761 19.3827C17.0004 19.2 16.9806 18.9989 17.0192 18.8049C17.0578 18.6109 17.153 18.4327 17.2929 18.2929C17.4327 18.153 17.6109 18.0578 17.8049 18.0192C17.9989 17.9806 18.2 18.0004 18.3827 18.0761C18.5654 18.1518 18.7216 18.28 18.8315 18.4444C18.9414 18.6089 19 18.8022 19 19C19 19.2652 18.8946 19.5196 18.7071 19.7071C18.5196 19.8946 18.2652 20 18 20Z" fill="#444A51"/>
                        </svg>
                        dodaj u korpu
                    </button>
                </div>
            </div>
        </section>
        <More/>
        </section>
    );
    }
}

export default Product;
